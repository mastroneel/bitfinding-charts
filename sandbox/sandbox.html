<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sandbox</title>

    <style>
    #container {
  height: 500px;
  width: 800px;
  margin: 0 auto;
}

.highcharts-tooltip>span {
  padding: 10px;
  white-space: normal !important;
  width: 200px;
}

.loading {
  margin-top: 10em;
  text-align: center;
  color: gray;
}

.f32 .flag {
  vertical-align: middle !important;
  margin: 0 auto !important;
}
    </style>
  </head>
  <body>







    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/data.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/custom/world.js"></script>

<!-- Flag sprites service provided by Martijn Lafeber, https://github.com/lafeber/world-flags-sprite/blob/master/LICENSE -->
<link rel="stylesheet" type="text/css" href="//github.com/downloads/lafeber/world-flags-sprite/flags32.css" />

<div id="container"></div>









    <script>

$.getJSON('https://cdn.rawgit.com/highcharts/highcharts/680f5d50a47e90f53d814b53f80ce1850b9060c0/samples/data/world-population-density.json', function (data) {

// Prevent logarithmic errors in color calulcation
$.each(data, function () {
  this.value = (this.value < 1 ? 1 : this.value);
});

// Initiate the chart
Highcharts.mapChart('container', {

  chart: {
    map: 'custom/world'
  },

  title: {
    text: 'Fixed tooltip with HTML'
  },

  legend: {
    title: {
      text: 'Population density per km²',
      style: {
        color: (Highcharts.theme && Highcharts.theme.textColor) || 'black'
      }
    }
  },

  mapNavigation: {
    enabled: true,
    buttonOptions: {
      verticalAlign: 'bottom'
    }
  },

  tooltip: {
    backgroundColor: 'none',
    borderWidth: 0,
    shadow: false,
    useHTML: true,
    padding: 0,
    pointFormat: '<span class="f32"><span class="flag {point.properties.hc-key}">' +
      '</span></span> {point.name}<br>' +
      '<span style="font-size:30px">{point.value}/km²</span>',
    // positioner: function () {
    //   return { x: 10, y: 250 };
    // }
  },

  // colorAxis: {
  //   min: 1,
  //   max: 1000,
  //   type: 'logarithmic'
  // },

  series: [{
    data: data,
    joinBy: ['iso-a3', 'code3'],
    name: 'Population density',
    states: {
      hover: {
        color: '#a4edba'
      }
    }
  }]
});
});

    </script>

  </body>
</html>
